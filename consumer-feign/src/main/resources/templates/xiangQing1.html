<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <link rel="stylesheet" th:href="@{../css/bootstrap.css}" />
    <link rel="stylesheet" th:href="@{../css/bootstrap-table.css}" />
    <!-- Metas -->
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="" />
    <!-- Links -->
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:400,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/icofont.min.css">
    <link href="../css/bootstrap.min.css" rel="stylesheet" />
    <link href="../css/slick.css" rel="stylesheet" />
    <link href="../css/main.css" rel="stylesheet" />
    <link rel="stylesheet" href="../css/style.css">

    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap3/js/bootstrap.js"></script>
    <link rel="stylesheet" href="../js/bootstrap3/css/bootstrap.css">
    <script src="../js/bootstrap-treeview/bootstrap-treeview.min.js"></script>
    <link rel="stylesheet" href="../js/bootstrap-treeview/bootstrap-treeview.min.css">
    <script src="../js/bootStrap-addTabs/bootstrap.addtabs.js"></script>
    <link rel="stylesheet" href="../js/bootStrap-addTabs/bootstrap.addtabs.css">

    <link rel="stylesheet" href="../js/bootstrap-table/bootstrap-table.css">
    <script src="../js/bootstrap-table/bootstrap-table.js"></script>
    <script src="../js/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>

    <script src="js/bootbox/bootbox.js"></script>
    <link rel="stylesheet" href="js/bootstrap-table/bootstrap-table.css">
    <script src="js/bootstrap-table/bootstrap-table.js"></script>
    <script src="js/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>

    <!-- Document Title -->
    <meta charset="utf-8">
    <title>全部课程_IT培训精品课程-慕课网</title>
    <style type="text/css">
        #header .page-container {
            width: auto;
            padding-right: 10px;
            z-index: 900;
            box-shadow: 0 4px 8px 0 rgba(7, 17, 27, 0.1);
            position: relative;
        }
        ul{
            width: 2000px;
            height: 20px;
            margin-left: 180px;
        }
        li{
            list-style-type: none;
            float: left;
            line-height: 30px;
            font-size: 16px;
            color: #FFFFFF;
            margin-right:50px;
        }
        a{
            display: block;
            font-family: "黑体";
            margin: 0px 0px;
            color: #717A84;
            text-align: center;
            font-size: 16px;
        }
        a:hover{
            color: white;
            text-decoration: none;
        }
        .kecheng ul{
            width: 2000px;
            height: 20px;
            margin-left: 180px;
        }
        .nav li{
            display: none;
            width: 25%;
            text-decoration: none;
        }
        .nav li:hover{
            background-color: lightblue;
        }
        section{
            height: 300px;
        }

    </style>
</head>
<body>
<div>
    <a href="#"><img src="/images/top22.jpg" style="width: 2000px" alt=""></a>
</div>

<div id="header">
    <div class="page-container clearfix" style="background-color: #0D171F !important;">
        <ul class=daohang>
            <li style="margin-top: 5px"><a href="/toMain">慕课网首页</a></li>
            <li style="margin-top: 5px"><a href="/toMianFeiKeCheng">免费课程</a></li>
            <li style="margin-top: 5px"><a href="/toShiZhanKeCheng">实战课程</a></li>
            <li style="margin-top: 5px"><a href="/toKingZhiWei">金职位</a></li>
            <li style="margin-top: 5px"><a href="/toWIKI">wiki</a></li>
            <li style="margin-top: 5px"><a href="">专栏</a></li>
            <li style="margin-top: 5px">
                <a href="">
                    手记
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                </a>
            </li>
            <li style="margin-top: 5px">
                <a href="/toShoppingCart">
                    <span>购物车</span>
                </a>
            </li>
        </ul>
    </div>
</div>

<!--导航栏部分HTML代码-->
<nav id="nav" style="background-color: black;height: 70px">
     <ul>
     <li class="act">课程介绍</li>
     <li>课程章节</li>
     </ul>
</nav>
<!--内容部分HTML代码-->
<div id="container">
    <section class="tab" >
        <!---->
        <input type="hidden" id="courseid" th:value="${course.courseid}" >
        <table width="800px">
            <tr>
                <img src="images/xq1.png">
                <img src="images/gwcFoot.jpg" width="100%">
            </tr>
        </table>

    </section>
    <section class="tab" >

        <table id="coursetable"></table>
    </section>

</div>

<script>

    $(function(){
        selectCourseList();
    })

    function selectCourseList(){

        $("#coursetable").bootstrapTable({
            url: "/selectCourseList?courseid="+$("#courseid").val(),
            method: 'post',
            striped: true,  	// 斑马线效果     默认false
            //只允许选中一行
            singleSelect: false,
            //选中行是不选中复选框或者单选按钮
            clickToSelect: true,
            //showToggle: true,			//是否显示详细视图和列表视图的切换按钮
            //cardView: false,			//是否显示详细视图
            uniqueId: "courseid",				//每一行的唯一标识，一般为主键列
            //showColumns: true,			//是否显示所有的列
            //showRefresh: true,			//是否显示刷新按钮
            minimumCountColumns: 2,		//  最少留两列
            detailView: false,    		//是否显示父子表
            toolbar: '#tabToolBar',		//  工具定义位置
            sidePagination: 'client',	//前端分页还是后端分页
            //toolbar: '#toolbar',
            pagination: false, 			//是否展示分页
            pageList: [2, 4, 8, 10],
            //分页组件
            pageNumber: 1,
            pageSize: 8,				//默认每页条数
            //启动回车键做搜索功能
            searchOnEnterKey: true,
            //设置为false 将禁止所有列的排序。
            sortable: true,
            //设置默认排序为 name,直接对应数据库的字段
            sortName: 'courseid',
            //定义排序方式，'asc' 或者 'desc'。
            sortOrder: "asc",
            //设置为undefined可以获取pageNumber，pageSize，searchText，sortName，sortOrder
            // 设置为limit可以获取limit, offset, search, sort, order
            queryParamsType: 'undefined',
            columns: [
                /* field 属性值和 对象的属性名保持一致 */
                {field:'sectionname',title:'目录名称',width:$(this).width() * 0.2},
                {field:'video',title:'视频',width:$(this).width() * 0.2,
                    formatter:function(value,row,index){
                        return "<video src='"+value+"' width='100px' height='100px'></video>&nbsp;&nbsp;&nbsp;&nbsp;" +
                            "<a href='javascript:watch(&quot;"+value+"&quot;)'  class='btn btn-info' role='button'>点击观看</a>"
                    }
                },
                {field:'duration',title:'时长',width:$(this).width() * 0.2}]
        });
    }

    //弹框
    var res;
    function createAddContent(url) {
        $.ajax({
            url: url,
            async: false,
            success: function (data) {
                res = data;
            }
        });
        return res;
    }

    function watch(video){
        //打开弹框
        bootbox.dialog({

            message: createAddContent("toWatch?video="+video),
            closeButton: true,//是否显示关闭按钮
            buttons: {
            }
        });
    }

    window.onload=function () {
        //获取 li 也就是选项卡选项tab
        var nav=document.getElementById('nav');
        var oNav=nav.getElementsByTagName('li');
        //获取 包裹在container里面的section（内容）
        var container=document.getElementById('container');
        var oDiv=container.getElementsByClassName('tab');
        //使用 循环依次得到li
        for(var i=0;i<oNav.length;i++){
            oNav[i].index=i;
            //每一次得到li后执行鼠标点击操作则触发函数function
            oNav[i].onclick=function () { //此处除了可以使用onclick，还可以使用onmouseover
                //在li的个数内依次展示内容
                for(var i=0;i<oNav.length;i++){
                    oNav[i].className='';
                    oDiv[i].style.display="none";
                }
                this.className='act';
                oDiv[this.index].style.display="block"
            }
            for(var m=1;m<oNav.length;m++){
                oNav[m].className='';
                oDiv[m].style.display="none";
            }
        }
    };

</script>
</body>

</html>